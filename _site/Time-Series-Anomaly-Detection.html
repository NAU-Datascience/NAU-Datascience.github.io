<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Time Series Anomaly Detection</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/prism.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>



    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Academic Paper Summaries" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/Time-Series-Anomaly-Detection" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="NAU-DataScience" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Time Series Anomaly Detection" />
    <meta property="og:description" content="Detection of Anomalous Drops with Limited Features and Sparse Examples in NoisyHighly Periodic Data Dominique T. Shipmon, Jason M. Gurevitch, Paolo M. Piselli, Steve Edwards Link to paper Summary About the data: 14 different sets of data where saved 5 min intervals. (288 each day) About the problem: When there" />
    <meta property="og:url" content="http://localhost:4000/Time-Series-Anomaly-Detection" />
    <meta property="og:image" content="http://localhost:4000/assets/images/blog-cover.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2018-01-27T04:00:00-06:00" />
    <meta property="article:modified_time" content="2018-01-27T04:00:00-06:00" />
    <meta property="article:tag" content="Summary" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Time Series Anomaly Detection" />
    <meta name="twitter:description" content="Detection of Anomalous Drops with Limited Features and Sparse Examples in NoisyHighly Periodic Data Dominique T. Shipmon, Jason M. Gurevitch, Paolo M. Piselli, Steve Edwards Link to paper Summary About the data: 14 different sets of data where saved 5 min intervals. (288 each day) About the problem: When there" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/images/blog-cover.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="NAU-DataScience" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Summary" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "NAU-DataScience",
        "logo": "http://localhost:4000/assets/images/blog-icon.png"
    },
    "url": "http://localhost:4000/Time-Series-Anomaly-Detection",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/images/blog-cover.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/Time-Series-Anomaly-Detection"
    },
    "description": "Detection of Anomalous Drops with Limited Features and Sparse Examples in NoisyHighly Periodic Data Dominique T. Shipmon, Jason M. Gurevitch, Paolo M. Piselli, Steve Edwards Link to paper Summary About the data: 14 different sets of data where saved 5 min intervals. (288 each day) About the problem: When there"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Time Series Anomaly Detection" href="/feed.xml" />


</head>
<body class="post-template">
    <script src="/assets/js/prism.js"></script>
    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/images/blog-icon.png" alt="NAU-DataScience" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full post tag-getting-started no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="27 January 2018">27 January 2018</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/summary/'>SUMMARY</a>,
                            
                        
                            
                               <a href='/tag/data-science/'>DATA SCIENCE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Time Series Anomaly Detection</h1>
            </header>

            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h3 id="detection-of-anomalous-drops-with-limited-features-and-sparse-examples-in-noisyhighly-periodic-data">Detection of Anomalous Drops with Limited Features and Sparse Examples in NoisyHighly Periodic Data</h3>

<p><em>Dominique T. Shipmon, Jason M. Gurevitch, Paolo M. Piselli, Steve Edwards</em></p>

<p><a href="https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46283.pdf">Link to paper</a></p>

<h2 id="summary"><strong>Summary</strong></h2>

<h3 id="about-the-data"><u>About the data</u>:</h3>

<ul>
  <li>14 different sets of data where saved 5 min intervals. (288 each day)</li>
</ul>

<h3 id="about-the-problem"><u>About the problem</u>:</h3>

<ul>
  <li>
    <p>When there are clear labels for anomalous data a binary classifier can be built predict anomalies and non-anomalouspoints. But in this case we dont have any label! Problem is finding anomalies without using labeled data.</p>
  </li>
  <li>
    <p>Since methods like clustering analysis, isolations forests requires labeled data plus they work better when there are many features, paper provides solution using artificial neural networks.</p>
  </li>
  <li>
    <p>Another problem is because what counts as an anomaly can vary based
on the data, each problem potentially requires its own model.</p>
  </li>
  <li>
    <p>One solution they propose is:</p>

    <ul>
      <li>make prediction using model</li>
      <li>take euclidean distance between predictions and true value</li>
      <li>set some threshold value</li>
      <li>if distance bigger then threshold, it is anomanly</li>
    </ul>

    <p>but this could leed to numerous false positives especially with noisy data.</p>

    <p>(false positive: actualy not anomaly but our prediction says it is anomaly)</p>
  </li>
  <li>
    <p>Other two approach is</p>

    <ul>
      <li>using accumulator</li>
      <li>using a probabilistic approach as outlined</li>
    </ul>
  </li>
</ul>

<h3 id="detection-rules"><strong><u>DETECTION RULES</u>:</strong></h3>

<ol>
  <li>Accumulator:</li>
</ol>

<p>The goal of the accumulator rule was to require multiple point anomalies to occur in a short period of time before signalling a sustained anomaly. They tried two different rules for how a point anomaly is detected, and then tested both of them as part of the accumulator rule.This rule involved a counter that would grow as point anomalies are detected, and shrink in cases where the predicted value is correct. The goal of this is to prevent noise that a local anomaly detection algorithm would incur, by requiring multiple anomalies in a short timeframe to cause it to reach a threshold for signaling.</p>

<ul>
  <li>
    <p>Threshold</p>

    <p>This algorithm defined a local anomaly as any value where the actual value is more than a given delta below the expected value, when the actual value is greater than a hardcoded threshold which says any value above it is not anomalous.</p>
  </li>
  <li>
    <p>Variance Based</p>

    <p>We tried using local variance to determine outages by defining an outage as any value that is outside of 20 times the rolling variance from the current prediction, so that noisy areas would allow for more noise in anomalies. However, this method proved to be slightly less effective than the simple threshold.</p>
  </li>
</ul>

<p>they found that threshold accumulator rule is working more effective on their datasets, they used that in all of anomaly detection for this paper.  observed that the accumulator rules frequently identified false positives after peaks due to an offset in the models inference compared to the ground-truth. This offset is likely due to training on a previous months where changes in periodicity could occur gradually into the next evaluation month. In an attempt to abate these false positives, we added a parameter for ‘peak values’ that would decrement the accumulator by three following a peak, and allowing the accumulator to go below 0 (down to a negative the threshold). However, we only wanted this to affect prediction immediately after peaks, so the accumulator would decay back to 0 if more non-anomalous data points are found, effectively preventing it from predicting an anomaly immediately after a peak.</p>

<p>For all of our models we defined the threshold for a non-anomalous value at 0.3, a peak value at 0.35, had a an accumulator threshold at 15 and had the delta for a local outage at 0.1</p>

<p>​</p>

<ol>
  <li>GaussianTailProbability</li>
</ol>

<p>The second anomaly detection rule is the Gaussian tail probability rule. The raw anomaly score calculation is simply the difference between the inference and ground-truth. Because they are only checking the lack of activity, they take out the negative scores.</p>

<p>the series of resulting raw anomaly scores are used to calculate the rolling mean and varience.  The rolling mean has two windows where the length of W2 &lt; W1. The two rolling means and variance are used to calculate the tail probability which is the final anomaly likelihood score.</p>

<p><strong><u>Example pipeline for Gaussian Tail Probability</u></strong></p>

<p><strong>I’m by no means certain that this implementation is correct, though!</strong> Any assistance in verifying this would be most welcome !!!</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Data</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">4000</span><span class="p">,</span><span class="n">seq_len</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">4000</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4000</span><span class="p">)):</span>
    <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="n">seq_len</span><span class="p">]</span>
    <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="n">seq_len</span><span class="p">]</span>


<span class="c"># LSTM</span>

<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">input_data</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">lstm</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="n">return_seq</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s">'elu'</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">dropout</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">lstm</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s">'elu'</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">dropout</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">fully_connected</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s">'linear'</span><span class="p">)</span>
<span class="n">net</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">regression</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="s">'adam'</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s">'mean_square'</span><span class="p">,</span>
                       <span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.001</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">tflearn</span><span class="o">.</span><span class="n">DNN</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">tensorboard_verbose</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">n_epoch</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>  <span class="n">show_metric</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">snapshot_step</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>


</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/AhmetHamzaEmra/ahmethamzaemra.github.io/master/images/post5/plot1.png" alt="" /></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dif</span> <span class="o">=</span> <span class="p">(</span><span class="n">true_y</span> <span class="o">-</span> <span class="n">y_preds</span><span class="p">)</span>
<span class="n">dif</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">dif</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="err">!</span><span class="p">[</span><span class="n">plot2</span><span class="p">](</span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">D</span><span class="o">/</span><span class="n">Desktop</span><span class="o">/</span><span class="n">plot2</span><span class="o">.</span><span class="n">png</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">rolling_window</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">window</span><span class="p">):</span>
    <span class="n">shape</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">window</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">window</span><span class="p">)</span>
    <span class="n">strides</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">strides</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">strides</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],)</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">lib</span><span class="o">.</span><span class="n">stride_tricks</span><span class="o">.</span><span class="n">as_strided</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="n">shape</span><span class="p">,</span> <span class="n">strides</span><span class="o">=</span><span class="n">strides</span><span class="p">)</span>

<span class="n">rolling_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">rolling_window</span><span class="p">(</span><span class="n">dif</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>


<span class="n">dif_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">rolling_mean</span><span class="p">)</span>
<span class="n">dif_std</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">rolling_mean</span><span class="p">)</span>
<span class="n">gausian_rolling</span> <span class="o">=</span> <span class="p">(</span><span class="n">rolling_mean</span><span class="o">-</span><span class="n">dif_mean</span><span class="p">)</span><span class="o">/</span><span class="n">dif_std</span>
<span class="n">out</span><span class="o">=</span><span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rolling_mean</span><span class="p">:</span>
    <span class="n">ceil</span> <span class="o">=</span> <span class="p">(</span><span class="n">dif_mean</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">dif_std</span><span class="p">)</span>
    <span class="n">floor</span><span class="o">=</span> <span class="p">(</span><span class="n">dif_mean</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">dif_std</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">&gt;</span><span class="n">ceil</span> <span class="ow">or</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">floor</span><span class="p">:</span>
        <span class="n">out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/AhmetHamzaEmra/ahmethamzaemra.github.io/master/images/post5/plot2.png" alt="" /></p>

<h3 id="prediction-models"><strong><u>PREDICTION MODELS</u></strong></h3>

<ul>
  <li>
    <p>Baseline = Threshold model</p>

    <p>​</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Anomaly rule</strong></th>
      <th style="text-align: center">Accumulator</th>
      <th style="text-align: center">Tail Probabilty</th>
      <th style="text-align: center">Intersection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TN</td>
      <td style="text-align: center">7833</td>
      <td style="text-align: center">8211</td>
      <td style="text-align: center">8211</td>
    </tr>
    <tr>
      <td style="text-align: center">FN</td>
      <td style="text-align: center">183</td>
      <td style="text-align: center">366</td>
      <td style="text-align: center">366</td>
    </tr>
    <tr>
      <td style="text-align: center">TP</td>
      <td style="text-align: center">246</td>
      <td style="text-align: center">63</td>
      <td style="text-align: center">63</td>
    </tr>
    <tr>
      <td style="text-align: center">FP</td>
      <td style="text-align: center">378</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>Fourier Series (a Fourier series is a way to represent a function as the sum of simple sine waves)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/AhmetHamzaEmra/ahmethamzaemra.github.io/master/images/post5/Screen%20Shot%202018-01-27%20at%2012.38.12%20PM.png" alt="" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Anomaly rule</strong></th>
      <th style="text-align: center">Accumulator</th>
      <th style="text-align: center">Tail Probabilty</th>
      <th style="text-align: center">Intersection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TN</td>
      <td style="text-align: center">7797</td>
      <td style="text-align: center">8009</td>
      <td style="text-align: center">8072</td>
    </tr>
    <tr>
      <td style="text-align: center">FN</td>
      <td style="text-align: center">375</td>
      <td style="text-align: center">429</td>
      <td style="text-align: center">429</td>
    </tr>
    <tr>
      <td style="text-align: center">TP</td>
      <td style="text-align: center">54</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center">FP</td>
      <td style="text-align: center">414</td>
      <td style="text-align: center">202</td>
      <td style="text-align: center">139</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p>DNN</p>

    <p>​	Num_layer = 10</p>

    <p>​	Layer_size = 200</p>

    <p>​	activation = Relu6</p>

    <p>​	batchsize = 200</p>

    <p>​	num_step = 1200</p>

    <p>​	optimizer = Adam</p>

    <p>​	learning_rate = 0.0001</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Anomaly rule</strong></th>
      <th style="text-align: center">Accumulator</th>
      <th style="text-align: center">Tail Probabilty</th>
      <th style="text-align: center">Intersection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TN</td>
      <td style="text-align: center">7751</td>
      <td style="text-align: center">8003</td>
      <td style="text-align: center">8077</td>
    </tr>
    <tr>
      <td style="text-align: center">FN</td>
      <td style="text-align: center">348</td>
      <td style="text-align: center">410</td>
      <td style="text-align: center">415</td>
    </tr>
    <tr>
      <td style="text-align: center">TP</td>
      <td style="text-align: center">81</td>
      <td style="text-align: center">19</td>
      <td style="text-align: center">14</td>
    </tr>
    <tr>
      <td style="text-align: center">FP</td>
      <td style="text-align: center">460</td>
      <td style="text-align: center">208</td>
      <td style="text-align: center">134</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p>RNN</p>

    <p>​	Num_layer = 10</p>

    <p>​	Layer_size = 75</p>

    <p>​	activation =  ELU</p>

    <p>​	batchsize = 200</p>

    <p>​	num_step = 2500</p>

    <p>​	optimizer = Adam</p>

    <p>​	learning_rate = 0.0001</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Anomaly rule</strong></th>
      <th style="text-align: center">Accumulator</th>
      <th style="text-align: center">Tail Probabilty</th>
      <th style="text-align: center">Intersection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TN</td>
      <td style="text-align: center">6889</td>
      <td style="text-align: center">8056</td>
      <td style="text-align: center">8100</td>
    </tr>
    <tr>
      <td style="text-align: center">FN</td>
      <td style="text-align: center">409</td>
      <td style="text-align: center">416</td>
      <td style="text-align: center">418</td>
    </tr>
    <tr>
      <td style="text-align: center">TP</td>
      <td style="text-align: center">20</td>
      <td style="text-align: center">13</td>
      <td style="text-align: center">11</td>
    </tr>
    <tr>
      <td style="text-align: center">FP</td>
      <td style="text-align: center">1322</td>
      <td style="text-align: center">155</td>
      <td style="text-align: center">111</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p>LSTM</p>

    <p>Num_layer = 10</p>

    <p>​Layer_size = 70</p>

    <p>​activation =  ELU</p>

    <p>​batchsize = 200</p>

    <p>​num_step = 2500</p>

    <p>​optimizer = Adam</p>

    <p>​learning_rate = 0.001</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Anomaly rule</strong></th>
      <th style="text-align: center">Accumulator</th>
      <th style="text-align: center">Tail Probabilty</th>
      <th style="text-align: center">Intersection</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">TN</td>
      <td style="text-align: center">7801</td>
      <td style="text-align: center">7951</td>
      <td style="text-align: center">8083</td>
    </tr>
    <tr>
      <td style="text-align: center">FN</td>
      <td style="text-align: center">388</td>
      <td style="text-align: center">419</td>
      <td style="text-align: center">420</td>
    </tr>
    <tr>
      <td style="text-align: center">TP</td>
      <td style="text-align: center">41</td>
      <td style="text-align: center">10</td>
      <td style="text-align: center">9</td>
    </tr>
    <tr>
      <td style="text-align: center">FP</td>
      <td style="text-align: center">410</td>
      <td style="text-align: center">260</td>
      <td style="text-align: center">128</td>
    </tr>
  </tbody>
</table>

<h3 id="findings"><strong><u>Findings</u></strong></h3>

<ol>
  <li>The first is that in every instance, the intersection between the accumulator method and the tail probability method reduced the amount of false positives flagged by the model. However, since the intersection makes a tighter bound around anomalous regions, the true positive rate is also decreased.</li>
  <li>The second important finding is that there is a very small difference between all of our neural network models with regards to their detection confusion matrices.</li>
</ol>

<h3 id="conclusion"><strong><u>Conclusion</u></strong></h3>

<ul>
  <li>the Fourier was slightly more effective than the others, this can also be due to the data itself</li>
  <li>With access to more features, deep learning could provide even more accurate results. Results
  suggest that due to the limited set of features available it didn’t provide significant advantages to simpler periodic models.</li>
  <li>Room for further experimentation can be done by trying even more anomaly detection methods and seeing if another combination can work even better than the two we propose here.</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/hamza.jpg" alt="hamza" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/hamza">Ahmet Hamza Emra</a></h4>
                                
                                    <p>Enthusiastic Machine Learning Engineer with experience in Data Analyze. Passionate about community and technology.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/hamza">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; NAU-DataScience &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/summary/">Summary</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Time-Series-Anomaly-Detection-Algorithms">Time Series Anomaly Detection Algorithms</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Anomaly-Detection-using-ml">Anomaly Detection of Time Series Data using Machine Learning & Deep Learning</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Anomaly-Detection">Anomaly Detection</a></li>
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/summary/">
                                
                                    See all 3 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Time-Series-Anomaly-Detection-Algorithms">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Summary</span>
                            
                        
                            
                                <span class="post-card-tags">Data science</span>
                            
                        
                    

                    <h2 class="post-card-title">Time Series Anomaly Detection Algorithms</h2>
                </header>
                <section class="post-card-excerpt">
                    <p># Time Series Anomaly Detection Algorithms, Blog Summary ​ _This is a summary of a blog post, published on medium.com._ **Original Blog Post:** [Pavel Tiunov - Jun 8, 2017](https://blog.statsbot.co/time-series-anomaly-detection-algorithms-1cef5519aef2?lipi=urn%3Ali%3Apage%3Ad_flagship3_messaging%3BUw%2FGWSJaTCysr0hAzNNPbw%3D%3D) ## Important Types of</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/bedir.jpg" alt="Bedir Tapkan" />
                        
                        <span class="post-card-author">
                            <a href="/author/bedir/">Bedir Tapkan</a>
                        </span>
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                
    <article class="post-card post-template no-image">
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Anomaly-Detection-using-ml">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Summary</span>
                            
                        
                            
                                <span class="post-card-tags">Data science</span>
                            
                        
                    

                    <h2 class="post-card-title">Anomaly Detection of Time Series Data using Machine Learning & Deep Learning</h2>
                </header>
                <section class="post-card-excerpt">
                    <p>This is a summary of a blog post, published on medium.com. Original Blog Post: XenonStack - Jul 3, 2017 What is Time Series Data Time series data is informations taken at a particular</p>
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/bedir.jpg" alt="Bedir Tapkan" />
                        
                        <span class="post-card-author">
                            <a href="/author/bedir/">Bedir Tapkan</a>
                        </span>
                    
                
                    
                
                    
                
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/images/favicon.png" alt="NAU-DataScience icon" />
            
            <span>NAU-DataScience</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Time Series Anomaly Detection</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Time+Series+Anomaly+Detection&amp;url=https://myJekyll.github.io/jasper2/Time-Series-Anomaly-Detection"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://myJekyll.github.io/jasper2/Time-Series-Anomaly-Detection"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">NAU-DataScience</a> &copy; 2018</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/myJekyll/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
